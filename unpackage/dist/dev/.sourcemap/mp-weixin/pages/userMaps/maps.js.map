{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Admin/Desktop/洁饮净水器小程序/洁饮小程序/pages/userMaps/maps.vue?3540","webpack:///C:/Users/Admin/Desktop/洁饮净水器小程序/洁饮小程序/pages/userMaps/maps.vue?1c33","webpack:///C:/Users/Admin/Desktop/洁饮净水器小程序/洁饮小程序/pages/userMaps/maps.vue?1c98","webpack:///C:/Users/Admin/Desktop/洁饮净水器小程序/洁饮小程序/pages/userMaps/maps.vue?f26c","uni-app:///pages/userMaps/maps.vue","webpack:///C:/Users/Admin/Desktop/洁饮净水器小程序/洁饮小程序/pages/userMaps/maps.vue?1341","webpack:///C:/Users/Admin/Desktop/洁饮净水器小程序/洁饮小程序/pages/userMaps/maps.vue?3bc0"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AAC0K;AAC1K,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,2OAEN;AACL,GAAG;AACH;AACA,WAAW,6MAEN;AACL,GAAG;AACH;AACA,WAAW,yQAEN;AACL,GAAG;AACH;AACA,WAAW,2OAEN;AACL,GAAG;AACH;AACA,WAAW,uMAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAunB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsD3oB,8F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,qEACA,wEACA,U,eACA,EACA,IADA,kBACA,CACA,SACA,QACA,EACA,WADA,EAEA,SACA,kBADA,EAEA,uCAFA,EAFA,EAMA,WACA,EACA,YADA,EAEA,QAFA,EADA,CANA,EADA,CADA,EAgBA,KAhBA,EAgBA;AACA,kBAjBA,EAkBA,cAlBA,EAmBA,iBAnBA,EAoBA,SACA,EACA,cADA,EAEA,iBAFA,EADA,CApBA,EA0BA,aA1BA,EA2BA;AACA,oBACA;AAEA;AACA;AACA;AACA;AAEA;AACA,uFATA,EA5BA,EAuCA;AACA,8DAxCA,EAyCA;AACA,sBA1CA,EA2CA,YA3CA,EA4CA,OA5CA,EA6CA,iBA7CA,EA8CA,SA9CA,EA+CA,UA/CA,EAgDA,QAhDA,EAiDA,YAjDA,EAkDA,aAlDA,EAmDA,OACA,EACA,aADA,EADA,EAIA,EACA,aADA,EAJA;AAOA;AACA,kBADA,EAPA;;AAUA;AACA,oBADA,EAVA,CAnDA;;;AAiEA,mBAjEA;AAkEA,qBAlEA;AAmEA,gBAnEA;AAoEA,kBApEA;AAqEA,gBArEA;;AAuEA,GAzEA;AA0EA,QA1EA,oBA0EA;AACA;AACA;AACA;;AAEA,GA/EA;AAgFA,SAhFA,qBAgFA,EAhFA;AAiFA,SAjFA,qBAiFA;AACA;AACA,iCADA;AAEA,aAFA,qBAEA;AACA;AACA,uBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WARA;;AAUA,OAbA;AAcA;AACA;AACA,OAhBA;;AAkBA,GApGA;AAqGA,gCArGA;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eA7BA,yBA6BA;AACA;AACA,yBADA;AAEA,mCAFA;AAGA;AACA;AACA,8BADA,CACA;AACA,WAFA,MAEA;AACA;AACA,sCADA;AAEA,0BAFA;AAGA,4BAHA;;AAKA;AACA,SAbA;;AAeA,KA7CA;AA8CA;AACA;AACA,0BADA;AAEA;AACA;AACA;AACA;AACA,gCADA;AAEA;AACA;AACA,4BADA;AAEA,gDAFA;;AAIA;AACA;AACA;AACA,sDADA,EADA;;AAIA,qEAJA;AAKA,gCALA;AAMA,4BANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDADA;;AAGA;AACA,0EADA;AAEA,yCAFA;AAGA,sCAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAfA;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBArCA;;AAuCA;AACA,mBAlDA;;AAoDA,eA5DA;AA6DA;AACA;AACA,eA/DA;;AAiEA;AACA,SAvEA;;AAyEA,KAxHA;AAyHA;AACA,YA1HA,sBA0HA;AACA;AACA,yDADA;AAEA,sBAFA;AAGA,uBAHA;;AAKA,KAhIA;AAiIA,gBAjIA,wBAiIA,OAjIA,EAiIA;AACA;AACA,KAnIA;AAoIA,iBApIA,yBAoIA,KApIA,EAoIA;AACA;AACA;AACA,KAvIA;AAwIA;AACA;AACA;;AAEA;AACA,qBADA;AAEA,6BAFA;;AAIA;AACA;AACA,uCADA;AAEA,qBAFA;AAGA,kBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;AACA,aAPA,EAOA,IAPA;AAQA;AACA,WAdA,MAcA;AACA;AACA,0BADA;AAEA,iCAFA;;AAIA;AACA,SAzBA;;AA2BA,KA5KA;AA6KA;AACA;AACA;AACA,qBADA;AAEA,6BAFA;;AAIA;AACA;AACA,0CADA;AAEA,qBAFA;AAGA,kBAHA;AAIA;AACA;AACA;AACA,0BADA;AAEA,iCAFA;;AAIA;AACA;AACA,WAPA,MAOA;AACA;AACA,0BADA;AAEA,iCAFA;;AAIA;AACA,SAlBA;;AAoBA,KAxMA,EAtGA,E;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAqqC,CAAgB,kmCAAG,EAAC,C;;;;;;;;;;;ACAzrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/userMaps/maps.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/userMaps/maps.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./maps.vue?vue&type=template&id=7bfeb83e&scoped=true&\"\nvar renderjs\nimport script from \"./maps.vue?vue&type=script&lang=js&\"\nexport * from \"./maps.vue?vue&type=script&lang=js&\"\nimport style0 from \"./maps.vue?vue&type=style&index=0&id=7bfeb83e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bfeb83e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Admin/Desktop/洁饮净水器小程序/洁饮小程序/pages/userMaps/maps.vue\"\nexport default component.exports","export * from \"-!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./maps.vue?vue&type=template&id=7bfeb83e&scoped=true&\"","var components = {\n  uCellGroup: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-cell-group/u-cell-group\" */ \"@/uview-ui/components/u-cell-group/u-cell-group.vue\"\n    )\n  },\n  uField: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-field/u-field\" */ \"@/uview-ui/components/u-field/u-field.vue\"\n    )\n  },\n  uCircleProgress: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-circle-progress/u-circle-progress\" */ \"@/uview-ui/components/u-circle-progress/u-circle-progress.vue\"\n    )\n  },\n  uSubsection: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-subsection/u-subsection\" */ \"@/uview-ui/components/u-subsection/u-subsection.vue\"\n    )\n  },\n  uIcon: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./maps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./maps.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<view :class=\"[isAdmin == true ? 'none' : 'black']\">\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<!-- <u-top-tips ref=\"uTips\" :navbar-height=\"statusBarHeight\"></u-top-tips> -->\r\n\t\t\t\t<view class=\"topbg\">\r\n\t\t\t\t\t<image src=\"../../static/logo.png\" style=\"width:60rpx;height:60rpx;margin-left: 30rpx;margin-right: 10rpx;\"></image>\r\n\t\t\t\t\t<text style=\"color:#fff;\">洁浩净水，健康饮水专家</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-cell-group style=\"border-radius: 50rpx;\">\r\n\t\t\t\t\t<u-field v-model=\"tel\" label=\"当前余额\" placeholder=\"当前余额\"></u-field>\r\n\t\t\t\t\t<u-field v-model=\"deviceNo\" label=\"设备编码\" placeholder=\"设备编码\"></u-field>\r\n\t\t\t\t\t<u-field v-model=\"dealerCompany\" label=\"设备名称\" placeholder=\"设备名称\"></u-field>\r\n\t\t\t\t\t<u-field v-model=\"inTds\" label=\"进水TNS\" placeholder=\"进水TNS\"></u-field>\r\n\t\t\t\t\t<u-field v-model=\"outTds\" label=\"出水TNS\" placeholder=\"出水TNS\"></u-field>\r\n\t\t\t\t</u-cell-group>\r\n\t\t\t\t<view class=\"bbb\" :class=\"[isShow == true ? 'black' : 'none']\">\r\n\t\t\t\t\t<view style=\"text-align: left;margin-left: 30rpx;\">\r\n\t\t\t\t\t\t<u-circle-progress active-color=\"#2979ff\" :percent=\"100\" :duration=\"aaa\" width=\"70\" border-width=\"4\">\r\n\t\t\t\t\t\t\t<view class=\"u-progress-content\">\r\n\t\t\t\t\t\t\t\t<view class=\"u-progress-dot\"></view>\r\n\t\t\t\t\t\t\t\t<text class=\"u-progress-info\">2%</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</u-circle-progress>\r\n\t\t\t\t\t\t<text style=\"margin-left: 20rpx;margin-top: 20rpx;font-size: 24rpx;\">正在用水中,预计还有{{ value }}秒完成</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"aaa\" :class=\"[isShow == false ? 'black' : 'none']\">\r\n\t\t\t\t\t<view :class=\"[isShow == false ? 'black' : 'none']\">\r\n\t\t\t\t\t\t<view style=\"margin:30rpx 0;\">用水量选择</view>\r\n\t\t\t\t\t\t<u-subsection :list=\"list\" :current=\"1\" bg-color=\"#fff\" active-color=\"#ff9900\" @change=\"sectionChange\"></u-subsection>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btns\" :class=\"[isShow == false ? 'black' : 'none']\">\r\n\t\t\t\t<button type=\"primary \" class=\"zcbtn\" @tap=\"StartUseWater\" open-type=\"getUserInfo\" bindgetuserinfo=\"getUserInfo\">开始用水</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btns\" :class=\"[isShow == true ? 'black' : 'none']\">\r\n\t\t\t\t<button type=\"primary \" class=\"zcbtn\" @tap=\"endUseWater\" open-type=\"getUserInfo\" bindgetuserinfo=\"getUserInfo\">结束用水并结算</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view :class=\"[isAdmin == true ? 'black' : 'none']\">\r\n\t\t\t<view class=\"page-body\">\r\n\t\t\t\t<view class=\"page-section page-section-gap\"><map style=\"width: 100%;height:96vh;\" :latitude=\"latitude\" :longitude=\"longitude\" :markers=\"covers\"></map></view>\r\n\t\t\t</view>\r\n\t\t\r\n\t\t\t<view class=\"scan\">\r\n\t\t\t\t<button class=\"testbutton\" open-type=\"getUserInfo\" @getuserinfo=\"getuserinfo\"><u-icon size=\"88\" name=\"scan\" color=\"#fff\" class=\" saoerImg\"></u-icon></button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\nimport request from '../../common/request.js';\nvar formatter = require('@/common/formatter.js');\nvar formatNumber = require('@/common/formatter.js');\nvar _self;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tnodes: [\n\t\t\t\t{\n\t\t\t\t\tname: 'div',\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\tclass: 'div_class',\n\t\t\t\t\t\tstyle: 'line-height: 60px; color: red;'\n\t\t\t\t\t},\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\ttext: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tid: 0, // 使用 marker点击事件 需要填写id\n\t\t\ttitle: 'map',\n\t\t\tlatitude: 39.9,\n\t\t\tlongitude: 116.38,\n\t\t\tcovers: [\n\t\t\t\t{\n\t\t\t\t\tlatitude: 39.9,\n\t\t\t\t\tlongitude: 116.38\n\t\t\t\t}\n\t\t\t],\r\n\t\t\tisAdmin:true,\n\t\t\t// 这里是首页内容\n\t\t\tbackground: {\n\t\t\t\t// backgroundColor: '#001f3f',\n\n\t\t\t\t// 导航栏背景图\n\t\t\t\t// background: 'url(https://cdn.uviewui.com/uview/swiper/1.jpg) no-repeat',\n\t\t\t\t// 还可以设置背景图size属性\n\t\t\t\t// backgroundSize: 'cover',\n\n\t\t\t\t// 渐变色\n\t\t\t\tbackgroundImage: 'linear-gradient(45deg, rgb(28, 187, 180), rgb(141, 198, 63))'\n\t\t\t},\n\t\t\t// 状态栏高度，H5中，此值为0，因为H5不可操作状态栏\n\t\t\tstatusBarHeight: uni.getSystemInfoSync().statusBarHeight,\n\t\t\t// 导航栏内容区域高度，不包括状态栏高度在内\n\t\t\tnavbarHeight: 44,\n\t\t\tdeviceNo: '',\n\t\t\ttel: '',\n\t\t\tdealerCompany: '',\n\t\t\tinTds: '',\n\t\t\toutTds: '',\n\t\t\tvalue: 0,\n\t\t\taaa: '25000',\n\t\t\tisShow: false,\n\t\t\tlist: [\n\t\t\t\t{\n\t\t\t\t\tname: '250ml'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '750ml'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '3升'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '5升以上'\n\t\t\t\t}\n\t\t\t],\n\t\t\tcurNow: '750',\n\t\t\tbalanceList: {},\n\t\t\tcurrent: 1,\n\t\t\ttokenOne: '',\r\n\t\t\tqrcode:''\n\t\t};\n\t},\n\tonLoad() {\n\t\t_self = this;\n\t\t_self.tokenOne = uni.getStorageSync('token');\n\t\tconsole.log(_self.tokenOne);\n\t\t\n\t},\n\tonReady() {},\n\tcreated() {\n\t\tuni.authorize({\r\n\t\t\tscope: 'scope.userLocation',\r\n\t\t\tsuccess() {\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t_self.covers[0].longitude = res.longitude;\r\n\t\t\t\t\t\t_self.covers[0].latitude = res.latitude;\r\n\t\t\t\t\t\t_self.latitude = res.latitude;\r\n\t\t\t\t\t\t_self.longitude = res.longitude;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tfail: function() {\r\n\t\t\t\t_self.openConfirm();\r\n\t\t\t}\r\n\t\t}); \n\t},\n\tmounted: function() {},\n\tmethods: {\n\t\t// getAuthorizeInfo(){\n\t\t//    const that = this;\n\t\t//    uni.authorize({\n\t\t//     scope: 'scope.userLocation',\n\t\t//     success() { // 允许授权\n\t\t//      that.getLocationInfo();\n\t\t//     },\n\t\t//     fail(){    // 拒绝授权\n\t\t//      that.openConfirm();\n\t\t//      console.log(\"你拒绝了授权，无法获得周边信息\")\n\t\t//     }\n\t\t//    })\n\t\t//   },\n\t\t//    // 获取地理位置\n\t\t//   getLocationInfo(){\n\t\t//    uni.getLocation({\n\t\t//     type: 'gcj02',\n\t\t//     success: function (res) {\n\t\t//     \t_self.covers[0].longitude=res.longitude;\n\t\t//     \t_self.covers[0].latitude=res.latitude;\n\t\t//     \t_self.latitude=res.latitude;\n\t\t//     \t_self.longitude=res.longitude;\n\t\t// \t\t}\n\t\t//    });\n\t\t//   },\n\n\t\t// 再次获取授权\n\t\t// 当用户第一次拒绝后再次请求授权\n\t\topenConfirm() {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '请求授权当前位置',\n\t\t\t\tcontent: '需要获取您的地理位置，请确认授权',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.openSetting(); // 打开地图权限设置\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '你拒绝了授权，无法获得周边信息',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetuserinfo: function() {\n\t\t\tuni.login({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\tvar code = loginRes.code;\n\t\t\t\t\tif (code) {\n\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\t\t\tsuccess: function(infoRes) {\n\t\t\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\t\t\tcode: code,\n\t\t\t\t\t\t\t\t\twxmpUserInfo: infoRes.userInfo\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\turl: 'https://www.warelink.cn/oauth/custom/miniapp',\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('token', res.data.access_token);\n\t\t\t\t\t\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\t\t\t\t\t\tuni.scanCode({\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('条码类型：' + res.scanType);\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('条码内容：' + res.result);\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet aaa = res.result.split('=');\n\t\t\t\t\t\t\t\t\t\t\t\t\t_self.qrcode = aaa[1];\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: _self.qrcode \n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequest({\r\n\t\t\t\t\t\t\t\t\t\t\t\t        url:\"/water/water4App/getDeviceInfo4AppIndex\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t        method:'get',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t        success: function (res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_self.balanceList=res.data.data;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_self.tel=_self.balanceList[0].tel;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_self.deviceNo=_self.balanceList[0].deviceNo;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_self.dealerCompany=_self.balanceList[0].dealerCompany\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_self.inTds=(_self.balanceList[0].inTds)+'PPM';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_self.outTds=(_self.balanceList[0].outTds)+'PPM';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(_self.balanceList)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_self.isAdmin=false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t         \t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t    })\n\t\t\t\t\t\t\t\t\t\t\t\t\t// request({\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \turl: '/water/water4App/getTapsByQrCode',\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \tmethod: 'get',\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \tdata: data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\tif (res.data.code == 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t_self.balanceList = res.data.data;\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\tconsole.log(_self.balanceList);\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t// });\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: function() {\n\t\t\t\t\t\t\t\tconsole.log('未授权');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 这里是首页的方法\n\t\tshowTips() {\n\t\t\tthis.$refs.uTips.show({\n\t\t\t\ttitle: '温馨提示,以实际取水量结算，为避免您忘记结算可能造成的损失,请选择本次最大用水量',\n\t\t\t\tduration: 4000,\n\t\t\t\ttype: 'warning'\n\t\t\t});\n\t\t},\n\t\tformatNumber(payDate) {\n\t\t\treturn formatter.formatNumber(payDate, '0.00');\n\t\t},\n\t\tsectionChange(index) {\n\t\t\t_self.curNow = parseInt(_self.list[index].name);\n\t\t\tconsole.log(_self.curNow);\n\t\t},\n\t\t// 开始用水\n\t\tStartUseWater: function() {\n\t\t\t_self.showTips();\n\n\t\t\tlet data = {\n\t\t\t\tqrCode: 80006,\n\t\t\t\twaterMl: _self.curNow\n\t\t\t};\n\t\t\tconsole.log(data);\n\t\t\trequest({\n\t\t\t\turl: '/water/water4App/confirm',\n\t\t\t\tmethod: 'get',\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\t_self.balanceList = res.data.data;\n\t\t\t\t\t\t_self.value = res.data.data.duringTime;\n\t\t\t\t\t\t// _self.aaa=res.data.data.duringTime*1000;\n\t\t\t\t\t\t// console.log(_self.aaa)\n\t\t\t\t\t\tsetInterval(function() {\n\t\t\t\t\t\t\tif (_self.value == 0) {\n\t\t\t\t\t\t\t\t_self.isShow = false;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_self.value = res.data.data.duringTime-- - 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t_self.isShow = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.data.msg\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 结束用水按钮\n\t\tendUseWater: function() {\n\t\t\tlet data = {\n\t\t\t\tqrCode: 80006,\n\t\t\t\tticketNo: _self.value\n\t\t\t};\n\t\t\tconsole.log(data);\n\t\t\trequest({\n\t\t\t\turl: '/water/water4App/stopDevice',\n\t\t\t\tmethod: 'get',\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.data.msg\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_self.isShow = false;\n\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.data.msg\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.scan {\n\tposition: fixed;\n\tbottom: 10rpx;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\twidth: 150rpx;\n\theight: 150rpx;\n\tbackground-color: orange;\n\tborder-radius: 50%;\n\t.testbutton {\n\t\tdisplay: flex;\n\t\tmargin-top: 30rpx;\n\t\tmargin-left: 20%;\n\t\ttransform: translateX(-20%);\n\t\tz-index: 99999;\n\t\tbackground-color: rgba(0, 0, 0, 0);\n\t\t&::after {\n\t\t\tborder: none;\n\t\t}\n\t}\n}\n.page-body {\n\tmargin: 20rpx;\n}\n\n// 这里是首页的样式\npage {\n\tbackground-color: rgb(240, 240, 240);\n}\n.content {\n\tmargin: 25rpx;\n\tbackground-color: #fff;\n\tborder-radius: 20rpx;\n\t.aaa {\n\t\ttext-align: center;\n\t\theight: 200rpx;\n\t}\n\t.bbb {\n\t\ttext-align: center;\n\t\theight: 100rpx;\n\t\tline-height: 80rpx;\n\t}\n}\n.btns {\n\tmargin-top: 150rpx;\n\ttext-align: center;\n\t.StartUseWater {\n\t\tmargin: 0 25rpx;\n\t}\n}\n.zcbtn {\n\tbackground-color: #e5a779;\n\tcolor: #fff;\n\tmargin: 0 30rpx;\n\theight: 80rpx;\n\tline-height: 80rpx;\n\t&::after {\n\t\tborder: 1px solid #e5a779;\n\t}\n}\n.topbg {\n\theight: 100rpx;\n\tline-height: 100rpx;\n\tbackground: #1f2b5b;\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: center;\n}\n.wrap {\n\tpadding: 60rpx;\n\tmargin-top: 10rpx;\n}\n.u-primary {\n\tbackground: #00bcd5 !important;\n}\n.u-progress-content {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n.u-progress-info {\n\tfont-size: 20rpx;\n\tletter-spacing: 2rpx;\n}\n.black {\n\tdisplay: block;\n}\n.none {\n\tdisplay: none;\n}\n</style>\n","import mod from \"-!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./maps.vue?vue&type=style&index=0&id=7bfeb83e&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./maps.vue?vue&type=style&index=0&id=7bfeb83e&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591838092751\n      var cssReload = require(\"E:/安装包/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}